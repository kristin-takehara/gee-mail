<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">

  
   <script>
      window.onload = function(){
        for(var i = 0; i<geemails.length; i++){ 
          var mailBox = document.createElement("div");
          mailBox.className = "box";
          main.appendChild(mailBox);

          var mailBox2 = document.createElement("div");
          mailBox.className = "box2";
          main.appendChild(mailBox2);

          var mailDate = document.createElement("li");
          mailDate.className = "date1";
          mailDate.innerHTML = geemails[i].date;
          mailBox2.appendChild(mailDate);

          var mailSubject = document.createElement("li");
          mailSubject.className = "subject1";
          mailSubject.innerHTML = geemails[i].subject;
          mailBox2.appendChild(mailSubject); 

          var mailSender = document.createElement("li");
          mailSender.className = "sender1";
          mailSender.innerHTML = geemails[i].sender;
          mailBox2.appendChild(mailSender);

          var mailBody = document.createElement("li");
          mailBody.className = "body1";
          mailBody.innerHTML = geemails[i].body;
          mailSender.appendChild(mailBody);
}
          var getCt = document.createElement("div");
          getCt.id = "mesCt";
          getCt.innerHTML = geemails.length;
          count.appendChild(getCt);
          console.log(getCt);

          var pressButton = document.getElementsByClassName("sender1");
        for(var i = 0; i<pressButton.length; i++) {
  pressButton[i].addEventListener("click", showBody);
}

function showBody(){
  var mess = this.querySelectorAll(".body1")[0];
  if(mess.style.display === "none"){
    mess.style.display = "block";
  }else{
    mess.style.display = "none";
  }  
}


// get new message

function newBox(){
  
  var insObj = getNewMessage();
  // console.log(insObjDate);
  var newObjDate = document.createElement("li");
  newObjDate.className = "date1";
  newObjDate.innerHTML = insObj.date;
  main.appendChild(newObjDate);

  var newObjSub = document.createElement("li");
  newObjSub.className = "subject1";
  newObjSub.innerHTML = insObj.subject;
  main.appendChild(newObjSub);

  var newObjBody = document.createElement("li");
  newObjBody.className = "body1";
  newObjBody.innerHTML = insObj.body;
  main.appendChild(newObjBody);

  var newObjSend = document.createElement("li");
  newObjSend.className = "sender1";
  newObjSend.innerHTML = insObj.sender;
  main.appendChild(newObjSend);
  
// add event listener  
//   var pressButton = document.getElementsByClassName("sender1");
//   pressButton.addEventListener("click", showBody);

// function showBody(){
//   var mess = this.querySelectorAll(".body1")[0];
//   if(mess.style.display === "none"){
//     mess.style.display = "block";
//   }else{
//     mess.style.display = "none";
//   }  
// }
  

getCt.innerHTML++;  

}

setInterval(newBox, 2000);

};

</script>
<body>
    <div class = "title">..:gee-mail:..</div>
    <div>

    <img id="postStamp" src="assets/postal-stamp-hi.png" alt=""></img>

      <div class="stage">
  <div class="envelope-wrapper">
    <div class="envelope">
      <img class="envelope-face envelope-front" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/91003/envelope-front.svg">
      <img class="envelope-face envelope-back" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/91003/envelope-rear.svg">
    </div>
  </div>you've got mail
</div>

    <div id = "count">
    </div>
    <img id = "ct-envelope" src="assets/contact_envelope.png" alt="">
    <div class="container" id="main">
    </div>

	</head>
	</body>
</html>